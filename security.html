<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KohaClient â€“ Security Architecture</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Oxanium:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <style>
    :root{
      --bg-900:#0b0e12;
      --text-100:#f5f7ff; --text-300:#c9d4e1; --text-500:#8ea0b5;
      --accent:#0ea5ff; --accent-2:#3b82f6;
      --glowA: 0 0 24px rgba(14,165,255,.45), 0 0 64px rgba(14,165,255,.25);
      --radius-xl:22px; --radius-lg:18px; --radius-md:14px;
      --shadow-1:0 10px 30px rgba(0,0,0,.35); --shadow-2:0 20px 50px rgba(0,0,0,.5);
      --container-pad: 20px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',sans-serif;
      background:
        radial-gradient(1200px 600px at 20% -10%, rgba(14,165,255,.12), transparent 60%),
        radial-gradient(900px 500px at 110% 10%, rgba(59,130,246,.10), transparent 55%),
        linear-gradient(180deg, var(--bg-900), var(--bg-900));
      color:var(--text-100);
      overflow-x:hidden;
      -webkit-text-size-adjust:100%;
      text-size-adjust:100%;
    }
    .container{max-width:1200px;margin:0 auto;padding:0 var(--container-pad)}
    section{position:relative;padding:120px 0}

    code {
      background: rgba(14,165,255,.1);
      border: 1px solid rgba(14,165,255,.2);
      border-radius: 5px;
      padding: 2px 6px;
      font-family: 'Oxanium', monospace;
      font-size: 0.9em;
      color: var(--accent);
    }

    i {
      font-style: normal;
      color: var(--text-100);
      font-weight: bolder;
    }

    .cursor-glow{position:fixed;inset:0;pointer-events:none;z-index:0}
    .cursor-glow::before{
      content:"";position:absolute;width:400px;height:400px;border-radius:50%;
      transform:translate(calc(var(--mx,50%) - 50%), calc(var(--my,50%) - 50%));
      filter:blur(80px);opacity:.18;mix-blend-mode:screen;left:0;top:0;
      background:radial-gradient(circle, rgba(14,165,255,.9) 0%, rgba(14,165,255,.35) 35%, transparent 70%);
      transition: transform .08s linear;
    }

    #stars{position:fixed;inset:0;z-index:-2;background:transparent;will-change:transform}

    .nav{position:sticky;top:0;z-index:50;backdrop-filter:blur(10px);background:linear-gradient(180deg,rgba(10,14,18,.85),rgba(10,14,18,.35));border-bottom:1px solid rgba(255,255,255,.06)}
    .nav .row{display:flex;align-items:center;justify-content:space-between;padding:14px var(--container-pad)}
    .brand{font-family:'Oxanium',monospace;letter-spacing:.8px;font-weight:800;font-size:1.3rem;display:flex;align-items:center;gap:10px}
    .brand .logo-dot{width:12px;height:12px;border-radius:50%;background:var(--accent);box-shadow:var(--glowA)}
    .brand span{color:#fff}.brand b{color:var(--accent);text-shadow:0 0 16px rgba(14,165,255,.6)}

    nav.primary{display:flex;align-items:center;gap:10px}
    nav.primary a{color:var(--text-300);text-decoration:none;padding:10px 12px;font-weight:600;letter-spacing:.3px;border-radius:10px}
    nav.primary a:hover{color:#fff;background:rgba(255,255,255,.06)}

    .status-pill{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:var(--text-300); text-decoration:none; font-weight:700; letter-spacing:.2px}
    .status-dot{ width:10px;height:10px;border-radius:50% }
    .dot-ok{ background:#22c55e; box-shadow:0 0 12px rgba(34,197,94,.6) }

    .menu-toggle{display:none;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:#fff}
    .mobile-panel{position:fixed;inset:0 0 auto auto;top:60px;right:var(--container-pad);background:linear-gradient(180deg,rgba(10,14,18,.98),rgba(10,14,18,.92));border:1px solid rgba(255,255,255,.08);border-radius:16px;box-shadow:var(--shadow-2);width:min(92vw,360px);transform:translateY(-12px) scale(.98);opacity:0;pointer-events:none;transition:transform .2s,opacity .2s}
    .mobile-panel.open{transform:none;opacity:1;pointer-events:auto}
    .mobile-panel a{display:block;padding:14px 16px;color:#fff;text-decoration:none;border-bottom:1px solid rgba(255,255,255,.06)}
    .mobile-panel a:last-child{border-bottom:none}

    .hero{padding-top:140px;padding-bottom:120px}
    .hero .wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:8px}
    h1{font-family:'Oxanium',monospace;font-size:clamp(2rem,6.5vw,4rem);line-height:1.06;margin:18px 0 14px;text-transform:uppercase;letter-spacing:1.6px}
    .glitch{position:relative;display:inline-block;color:#fff;text-shadow:0 0 22px rgba(14,165,255,.45)}
    .glitch::before,.glitch::after{content:attr(data-text);position:absolute;inset:0}
    .glitch::before{color:rgba(14,165,255,1);transform:translate(2px,0);mix-blend-mode:screen;opacity:.6;animation:glitch1 3s infinite linear}
    .glitch::after{color:rgba(59,130,246,1);transform:translate(-2px,0);mix-blend-mode:screen;opacity:.6;animation:glitch2 2.4s infinite linear}
    @keyframes glitch1{0%,100%{clip-path:inset(0 0 0 0)}20%{clip-path:inset(10% 0 55% 0)}40%{clip-path:inset(80% 0 2% 0)}60%{clip-path:inset(30% 0 20% 0)}80%{clip-path:inset(5% 0 70% 0)}}
    @keyframes glitch2{0%,100%{clip-path:inset(0 0 0 0)}25%{clip-path:inset(60% 0 8% 0)}50%{clip-path:inset(15% 0 30% 0)}75%{clip-path:inset(2% 0 85% 0)}}
    p.lead{color:var(--text-300);font-size:clamp(1rem,2.8vw,1.15rem);max-width:680px;margin:0 auto}

    .cta{display:flex;flex-wrap:wrap;gap:14px;margin-top:24px;justify-content:center}
    .btn{position:relative;display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:14px 22px;border-radius:16px;font-weight:800;letter-spacing:.6px;text-transform:uppercase;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:#fff;text-decoration:none;transform:translateZ(0);min-height:44px}
    .btn::after{content:"";position:absolute;inset:-2px;border-radius:inherit;padding:2px;background:linear-gradient(120deg,rgba(14,165,255,.0),rgba(14,165,255,.6),rgba(14,165,255,.0));-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:.85}
    .btn.primary{box-shadow:var(--glowA)}
    .btn:hover{transform:translateY(-2px)}
    .btn .shine{position:absolute;inset:-1px;border-radius:inherit;background:radial-gradient(120px 120px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.25), transparent 70%);opacity:.25;mix-blend-mode:screen;transition:opacity .25s}
    .btn:hover .shine{opacity:.55}

    .section-title{text-align:center;margin-bottom:16px;font-family:'Oxanium';letter-spacing:1.4px;text-transform:uppercase}
    .section-sub{color:var(--text-500);text-align:center;max-width:780px;margin:0 auto 40px}

    .faq details{background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:14px;margin:12px 0;overflow:hidden}
    .faq summary{cursor:pointer;list-style:none;padding:18px 20px;font-weight:700;display:flex;align-items:center;justify-content:space-between}
    .faq summary::after{content:"+";transition:transform .2s ease; font-size: 1.5rem; font-weight: 400;}
    .faq details[open] summary{color:var(--accent);}
    .faq details[open] summary::after{transform:rotate(45deg)}

    .faq .content{
      padding: 12px 20px 18px 20px; 
      color:var(--text-300); 
      border-top: 1px solid rgba(255,255,255,.08); 
      line-height: 1.6;
    }

    footer{border-top:1px solid rgba(255,255,255,.08);padding:50px 0}
    .footer-brand{font-family:'Oxanium';font-weight:800;font-size:2rem;letter-spacing:1px}
    .footer-brand b{color:var(--accent)}
    .social{margin-top:18px}
    .social a{color:var(--text-500);font-size:1.6rem;margin:0 10px;text-decoration:none}
    .social a:hover{color:#fff}

    .reveal{opacity:0;transform:translateY(20px) scale(.98);filter:blur(6px)}
    .reveal.show{opacity:1;transform:none;filter:none;transition:opacity .7s cubic-bezier(.2,.7,.2,1), transform .7s cubic-bezier(.2,.7,.2,1), filter .7s}

    @media (max-width: 1200px){ :root{ --container-pad: 18px } }
    @media (max-width: 992px){ section{padding:90px 0} }
    @media (max-width: 768px){
      nav.primary{display:none}
      .menu-toggle{display:flex}
      .hero{padding-top:110px;padding-bottom:80px}
      h1{font-size:clamp(1.8rem,8vw,3rem)}
    }
    @media (max-width: 520px){ :root{ --container-pad: 16px } }
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important}
      .glitch::before,.glitch::after{animation:none}
    }
    @media (pointer: coarse){ .cursor-glow{display:none} }
  </style>
</head>
<body>
  <canvas id="stars" aria-hidden="true"></canvas>
  <div class="cursor-glow" aria-hidden="true"></div>

  <header class="nav" role="banner">
    <div class="container row">
      <div class="brand" aria-label="KohaClient"><span class="logo-dot"></span><span>Koha</span><b>Client</b></div>
      <nav class="primary" aria-label="Hauptnavigation">
        <a href="index.html">Home</a>
      </nav>
      <div style="display:flex;align-items:center;gap:10px">
        <a class="status-pill" href="status.html" id="liveStatus">
          <span class="status-dot dot-ok" id="liveStatusDot" aria-hidden="true"></span>
          <span id="liveStatusText">Status</span>
        </a>
        <button class="menu-toggle" aria-label="MenÃ¼ Ã¶ffnen" aria-expanded="false" aria-controls="mobileMenu">
          <i class='bx bx-menu' aria-hidden="true"></i>
        </button>
      </div>
      <div id="mobileMenu" class="mobile-panel" role="dialog" aria-modal="true" aria-label="Mobile Navigation">
        <a href="index.html">Home</a>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container wrap">
      <div>
        <h1 class="reveal"><span class="glitch" data-text="Security">Security</span><br/>Architecture</h1>
        <p class="lead reveal">An overview of the proprietary, multi-layered framework that protects your data and ensures client integrity.</p>
      </div>
    </div>
  </section>

  <section id="protocols" class="faq" style="padding-top: 0;">
    <div class="container">

      <h2 class="section-title reveal">Launcher & Authentication</h2>
      <p class="section-sub reveal">Ensuring every session starts from a verified, trusted source.</p>

      <details class="reveal" data-speed="0.01">
        <summary>VALIS (Verified Access Launch & Integrity System)</summary>
        <div class="content">This is our foundational security protocol. <code>VALIS</code> ensures the client is launched *only* from the official, unmodified KohaClient Launcher. It creates a cryptographic handshake using a dynamic, single-use token, making unauthorized client execution or tampering at launch impossible.</div>
      </details>
      <details class="reveal" data-speed="0.01">
        <summary>RIV (Runtime Integrity Verification)</summary>
        <div class="content">The client-side counterpart to <code>VALIS</code>. Upon starting, the game client must present the valid token provided by the launcher. <code>RIV</code> verifies this token's authenticity, confirming the client is running in the secure, intended environment.</div>
      </details>

      <h2 class="section-title reveal" style="margin-top: 80px;">Network & Data Transmission</h2>
      <p class="section-sub reveal">Protecting all data that travels between your client and our servers.</p>

      <details class="reveal">
        <summary>SRG (Secure Real-time Gateway)</summary>
        <div class="content"><code>SRG</code> manages the primary, persistent WebSocket connection to KohaClient's backend services. It uses end-to-end encryption for all real-time data, including your cosmetic loadout, friend status, and party information, securing it from eavesdropping or manipulation.</div>
      </details>
      <details class="reveal">
        <summary>EVAS (Encrypted Voice & Asset Stream)</summary>
        <div class="content">A specialized high-speed protocol that runs over the <code>SRG</code> tunnel. <code>EVAS</code> is optimized for latency-sensitive data, providing end-to-end encryption for all in-game voice chat. It also manages the secure streaming of dynamic assets (like capes) to prevent them from being intercepted or spoofed.</div>
      </details>
      <details class="reveal">
        <summary>DSPI (Deep-State Packet Inspection)</summary>
        <div class="content"><code>DSPI</code> acts as an integrated, behavior-based firewall for all game-related network traffic. It actively monitors data packets for anomalies, identifying and neutralizing malformed packets designed to exploit client-side vulnerabilities before they can be processed.</div>
      </details>

      <h2 class="section-title reveal" style="margin-top: 80px;">Client Integrity & Anti-Tampering</h2>
      <p class="section-sub reveal">Actively defending against real-time threats, cheats, and modification.</p>

      <details class="reveal">
        <summary>ASV (Asynchronous State Validation)</summary>
        <div class="content">A continuous, passive security service that runs in the background. <code>ASV</code> constantly validates the memory integrity of all active client modules. If it detects an unauthorized modification or injection (e.g., from a cheat engine) that bypassed launch checks, it immediately triggers a session invalidation to protect you.</div>
      </details>
      <details class="reveal">
        <summary>OMI (Obfuscated Mixin Interface)</summary>
        <div class="content">This protocol is a core part of our client's design, creating a virtualized layer between our code and the game's code. By obfuscating and randomizing these connection points at runtime, <code>OMI</code> makes reverse-engineering the client and developing compatible cheats exponentially more difficult.</div>
      </details>
      <details class="reveal">
        <summary>UCIS (User Configuration Integrity Shield)</summary>
        <div class="content"><code>UCIS</code> securely validates all user settings and keybind files upon loading. It checks configurations against a strict, known-good schema, preventing malicious code execution or exploits that could be hidden within a malformed config file.</div>
      </details>

      <h2 class="section-title reveal" style="margin-top: 80px;">Asset & Resource Protocols</h2>
      <p class="section-sub reveal">Verifying that all loaded assets (cosmetics, textures) are official and safe.</p>

      <details class="reveal">
        <summary>DAA (Dynamic Asset Authentication)</summary>
        <div class="content">The <code>DAA</code> protocol protects you from asset-based exploits. Every cosmetic, cape, or custom texture loaded by the client must pass a digital signature check. This guarantees that you are only seeing and loading official, unmodified assets, rendering third-party texture hacks ineffective.</div>
      </details>
      <details class="reveal">
        <summary>TRIP (Trusted Resource & Interface Pipeline)</summary>
        <div class="content"><code>TRIP</code> secures the entire client rendering pipeline. It ensures that all UI components and fonts are loaded from the client's verified internal manifest. This protocol neutralizes UI-based threats, such as invisible buttons or credential-stealing overlays.</div>
      </details>

      <h2 class="section-title reveal" style="margin-top: 80px;">Social & API Protocols</h2>
      <p class="section-sub reveal">Securing your social interactions and third-party connections.</p>

      <details class="reveal">
        <summary>SPHE (Secure Profile & Hub Exchange)</summary>
        <div class="content">The <code>SPHE</code> protocol governs all social graph interactions. It encrypts all friend requests, party invites, and status updates within our <code>SRG</code> tunnel, preventing unauthorized users from spying on your social activity or sending spoofed invitations.</div>
      </details>
      <details class="reveal">
        <summary>TCA (Transient Command Authorization)</summary>
        <div class="content"><code>TCA</code> secures the client's command system. Instead of granting broad permissions, this protocol issues a short-lived, single-use authorization token for *each* command you execute. This prevents any possibility of permission escalation.</div>
      </details>
      <details class="reveal">
        <summary>C-API (Certified API Gateway)</summary>
        <div class="content">A security protocol for managing all communication with third-party services (like Discord). <code>C-API</code> signs every outgoing request with a short-lived session certificate, proving that the request is originating from a valid, <code>VALIS</code>-authenticated client and not an impersonator.</div>
      </details>
      <details class="reveal">
        <summary>EXIS (External Interface Sandbox)</summary>
        <div class="content">All non-essential third-party integrations, such as Discord Rich Presence, are forced to run within the <code>EXIS</code> sandbox. This protocol operates the integration in a low-privilege container, strictly preventing it from reading client memory or interfering with core game processes.</div>
      </details>
      <details class="reveal">
        <summary>CELA (Core Event Loop Attestation)</summary>
        <div class="content"><code>CELA</code> is a high-frequency protocol that monitors the client's main event-processing loop. It provides constant "attestation" (proof) that the event bus has not been hijacked by unauthorized listeners, ensuring all your inputs and client actions are processed securely and as intended.</div>
      </details>

    </div>
  </section>

  <footer>
    <div class="container" style="text-align:center">
      <div class="footer-brand">Koha<b>Client</b></div>
      <div class="social">
        <a style="transition: all 0.2s ease;" href="https://discord.kohaclient.cc/" aria-label="Discord"><i class='bx bxl-discord-alt'></i></a>
      </div>
      <p style="margin-top:10px;color:var(--text-500)">Â© 2025 KohaClient â€¢ Not affiliated with Mojang Studios.</p>
    </div>
  </footer>

  <script>

    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target) } })
    }, {threshold:.1, rootMargin:'0px 0px -40px 0px'});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    const glow = document.querySelector('.cursor-glow');
    window.addEventListener('mousemove', (e)=>{
      glow.style.setProperty('--mx', e.clientX + 'px');
      glow.style.setProperty('--my', (e.clientY) + 'px');
    });

    const canvas=document.getElementById('stars');
    const ctx=canvas.getContext('2d');
    let w,h,stars=[]; const DPR=Math.min(window.devicePixelRatio||1,2);
    function resize(){ w=canvas.width=innerWidth*DPR; h=canvas.height=innerHeight*DPR; canvas.style.width=innerWidth+'px'; canvas.style.height=innerHeight+'px'; generate(); render(); }
    function generate(){ const count=Math.round((innerWidth*innerHeight)/14000); stars=Array.from({length:count},()=>({x:Math.random()*w,y:Math.random()*h,s:Math.random()*1.1+.2})); }
    function render(){ ctx.clearRect(0,0,w,h); ctx.fillStyle='#0ea5ff'; for(const st of stars){ ctx.globalAlpha=0.35 + st.s*0.3; ctx.fillRect(st.x,st.y,st.s*DPR,st.s*DPR);} }
    resize(); addEventListener('resize', resize);

    function formatProtocolContent() {
      document.querySelectorAll('.faq .content').forEach(contentElement => {
        contentElement.innerHTML = contentElement.innerHTML.replace(/\*([^*]+)\*/g, '<i>$1</i>');
      });
    }
    formatProtocolContent();

    const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
    const onScroll=()=>{
      const y=window.scrollY||window.pageYOffset;
      canvas.style.transform=`translateY(-${y*0.15}px)`;
    };
    if(!prefersReduced){
      document.addEventListener('scroll', onScroll, {passive:true});
    }

    const toggle = document.querySelector('.menu-toggle');
    const panel  = document.getElementById('mobileMenu');
    function setOpen(open){
      panel.classList.toggle('open', open);
      toggle.setAttribute('aria-expanded', String(open));
      document.body.style.overflow = open ? 'hidden' : '';
    }
    toggle.addEventListener('click',()=> setOpen(!panel.classList.contains('open')));
    panel.querySelectorAll('a').forEach(a=> a.addEventListener('click', ()=> setOpen(false)));
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') setOpen(false) });
  </script>
</body>
</html>